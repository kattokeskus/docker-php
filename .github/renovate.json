{
    "$schema": "https://docs.renovatebot.com/renovate-schema.json",
    "extends": [
        "config:recommended",
        "helpers:pinGitHubActionDigests"
    ],
    "major": {
        "dependencyDashboardApproval": true
    },
    "enabledManagers": [
        "custom.regex"
    ],
    "prHourlyLimit": 0,
    "fetchChangeLogs": "off",
    "baseBranchPatterns": [
        "main"
    ],
    "packageRules": [
        {
            "matchFileNames": [
                "vars-8.3.hcl"
            ],
            "matchDatasources": [
                "docker"
            ],
            "matchPackageNames": [
                "php",
                "library/php",
                "docker.io/library/php"
            ],
            "allowedVersions": "<8.4.0"
        },
        {
            "matchFileNames": [
                "vars-8.4.hcl"
            ],
            "matchDatasources": [
                "docker"
            ],
            "matchPackageNames": [
                "php",
                "library/php",
                "docker.io/library/php"
            ],
            "allowedVersions": "<8.5.0"
        },
        {
            "description": "pecl version extractor",
            "matchDatasources": [
                "custom.pecl"
            ],
            "extractVersion": "version=(?<version>.+)$"
        }
    ],
    "labels": [
        "update"
    ],
    "vulnerabilityAlerts": {
        "labels": [
            "update",
            "security"
        ]
    },
    "customManagers": [
        {
            "customType": "regex",
            "managerFilePatterns": [
                "/\\.hcl$/"
            ],
            "matchStrings": [
                "# renovate: datasource=(?<datasource>.*?) depName=(?<depName>.*?)( versioning=(?<versioning>.*?))?\\s+default = \"(?<currentValue>[^\"]+)\""
            ]
        }
    ],
    "customDatasources": {
        "pecl": {
            "format": "html",
            "defaultRegistryUrlTemplate": "https://pecl.php.net/package-changelog.php?package={{packageName}}"
        }
    }
}
